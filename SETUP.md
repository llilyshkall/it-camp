# –ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

## üéØ **–ß—Ç–æ –º—ã –Ω–∞—Å—Ç—Ä–æ–∏–º:**

‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π** –ø—Ä–∏ –ø—É—à–µ –≤ GitHub  
‚úÖ **–ë–µ–∑ —Å–ª–æ–∂–Ω–æ–≥–æ Kubernetes** - —Ç–æ–ª—å–∫–æ Docker  
‚úÖ **–ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞** –Ω–∞ –ª—é–±–æ–º —Å–µ—Ä–≤–µ—Ä–µ  
‚úÖ **Health checks** –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥  

## üöÄ **–®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**

### 1.1 –°–æ–∑–¥–∞–Ω–∏–µ Personal Access Token
1. –ó–∞–π–¥–∏—Ç–µ –≤ GitHub ‚Üí **Settings** (—à–µ—Å—Ç–µ—Ä–µ–Ω–∫–∞ –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É)
2. –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–π–¥–∏—Ç–µ **Developer settings**
3. –ù–∞–∂–º–∏—Ç–µ **Personal access tokens** ‚Üí **Tokens (classic)**
4. –ù–∞–∂–º–∏—Ç–µ **Generate new token (classic)**
5. –í **Note** –Ω–∞–ø–∏—à–∏—Ç–µ: `GHCR Token for IT-Camp`
6. –í—ã–±–µ—Ä–∏—Ç–µ **Expiration**: `No expiration` (–∏–ª–∏ —É–∫–∞–∂–∏—Ç–µ —Å—Ä–æ–∫)
7. **–í–ê–ñ–ù–û**: –ü–æ—Å—Ç–∞–≤—å—Ç–µ –≥–∞–ª–æ—á–∫—É `write:packages`
8. –ù–∞–∂–º–∏—Ç–µ **Generate token**
9. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω** (–æ–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑!)

### 1.2 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Makefile
–í —Ñ–∞–π–ª–µ `Makefile` –∑–∞–º–µ–Ω–∏—Ç–µ:
```makefile
IMAGE_NAME := ghcr.io/–í–ê–®_–†–ï–ê–õ–¨–ù–´–ô_USERNAME/remarks
```

## üîß **–®–∞–≥ 2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞**

### 2.1 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker
curl -fsSL https://get.docker.com | sh

# –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É docker
sudo usermod -aG docker $USER

# –í–∫–ª—é—á–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å Docker
sudo systemctl enable docker
sudo systemctl start docker

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
docker --version
docker run hello-world
```

### 2.2 –°–æ–∑–¥–∞–Ω–∏–µ SSH –∫–ª—é—á–∞ –¥–ª—è GitHub Actions
```bash
# –°–æ–∑–¥–∞—Ç—å SSH –∫–ª—é—á
ssh-keygen -t rsa -b 4096 -C "github-actions"

# –î–æ–±–∞–≤–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –≤ authorized_keys
cat ~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á (–Ω—É–∂–µ–Ω –¥–ª—è GitHub Secrets)
cat ~/.ssh/id_rsa
```

## üîê **–®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Secrets**

–í –≤–∞—à–µ–º GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions**
2. –ù–∞–∂–º–∏—Ç–µ **New repository secret**
3. –î–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã:

```
SERVER_HOST=192.168.1.100     # IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
SERVER_USER=ubuntu             # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
SERVER_SSH_KEY=-----BEGIN...   # –ü—Ä–∏–≤–∞—Ç–Ω—ã–π SSH –∫–ª—é—á (–≤–µ—Å—å –±–ª–æ–∫)
SERVER_PORT=22                 # SSH –ø–æ—Ä—Ç (–æ–±—ã—á–Ω–æ 22)
```

## üöÄ **–®–∞–≥ 4: –ü–µ—Ä–≤—ã–π –¥–µ–ø–ª–æ–π**

### 4.1 –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π
–ü—Ä–æ—Å—Ç–æ —Å–¥–µ–ª–∞–π—Ç–µ **push –≤ main –≤–µ—Ç–∫—É**:
```bash
git add .
git commit -m "Initial setup"
git push origin main
```

GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –°–æ–±–µ—Ä–µ—Ç Docker –æ–±—Ä–∞–∑
2. –ó–∞–ø—É—Å—Ç–∏—Ç —Ç–µ—Å—Ç—ã
3. –ó–∞–¥–µ–ø–ª–æ–∏—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç health

### 4.2 –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
git clone <your-repo-url>
cd it-camp

# –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å
./scripts/deploy-server.sh build deploy

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
./scripts/deploy-server.sh status
```

## üåê **–®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã**

### 5.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
./scripts/deploy-server.sh status

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
./scripts/deploy-server.sh logs

# Health check
curl http://localhost/health
```

### 5.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–≤–Ω–µ
```bash
# –° –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
curl http://YOUR_SERVER_IP/health
```

## üîí **–®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**

### 6.1 Firewall
```bash
# –û—Ç–∫—Ä—ã—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ—Ä—Ç—ã
sudo ufw allow 22/tcp    # SSH
sudo ufw allow 80/tcp    # HTTP
sudo ufw enable

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
sudo ufw status
```

### 6.2 SSH –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
```bash
# –û—Ç–∫–ª—é—á–∏—Ç—å –ø–∞—Ä–æ–ª—å–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
sudo nano /etc/ssh/sshd_config

# –ù–∞–π—Ç–∏ –∏ –∏–∑–º–µ–Ω–∏—Ç—å:
# PasswordAuthentication no
# PermitRootLogin no

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å SSH
sudo systemctl restart sshd
```

## üìä **–®–∞–≥ 7: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**

### 7.1 –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
./scripts/deploy-server.sh status

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
./scripts/deploy-server.sh logs

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats remarks

# Health check
curl -f http://YOUR_SERVER_IP/health
```

### 7.2 –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç health –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –¥–µ–ø–ª–æ—è.

## üîÑ **–®–∞–≥ 8: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ**

### 8.1 –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
–ü—Ä–æ—Å—Ç–æ –¥–µ–ª–∞–π—Ç–µ `git push origin main` - GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç —Å–µ—Ä–≤–∏—Å.

### 8.2 –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd it-camp
git pull origin main

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å
./scripts/deploy-server.sh deploy
```

## üÜò **Troubleshooting**

### –ü—Ä–æ–±–ª–µ–º—ã —Å –¥–µ–ø–ª–æ–µ–º
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
./scripts/deploy-server.sh status

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
./scripts/deploy-server.sh logs

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
./scripts/deploy-server.sh restart
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å Docker
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Docker
docker info

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Docker
sudo systemctl restart docker

# –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ
./scripts/deploy-server.sh cleanup
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç—ã
sudo netstat -tlnp | grep :80

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å firewall
sudo ufw status
```

## ‚úÖ **–ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —Å–ø–∏—Å–æ–∫**

- [ ] Personal Access Token —Å–æ–∑–¥–∞–Ω —Å `write:packages` scope
- [ ] Makefile –æ–±–Ω–æ–≤–ª–µ–Ω —Å –≤–∞—à–∏–º username
- [ ] Docker —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- [ ] SSH –∫–ª—é—á —Å–æ–∑–¥–∞–Ω –∏ –¥–æ–±–∞–≤–ª–µ–Ω –≤ authorized_keys
- [ ] GitHub Secrets –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] –ü–µ—Ä–≤—ã–π –¥–µ–ø–ª–æ–π –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ
- [ ] –°–µ—Ä–≤–∏—Å –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ IP
- [ ] Health check —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Firewall –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] SSH –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞

## üéâ **–ì–æ—Ç–æ–≤–æ!**

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –ø—Ä–∏ –∫–∞–∂–¥–æ–º push
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏
- ‚úÖ –ê–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å–±–æ—è—Ö
- ‚úÖ Health checks
- ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–ù–∏–∫–∞–∫–æ–≥–æ Kubernetes!** –¢–æ–ª—å–∫–æ Docker + GitHub Actions + –≤–∞—à —Å–µ—Ä–≤–µ—Ä.

## üìû **–ü–æ–¥–¥–µ—Ä–∂–∫–∞**

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `./scripts/deploy-server.sh logs`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `./scripts/deploy-server.sh status`
3. –°–æ–∑–¥–∞–π—Ç–µ Issue –≤ GitHub
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∫–æ–º–∞–Ω–¥–µ DevOps
